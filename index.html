<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leadeom</title>
    <link rel="stylesheet" href="Style.css">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
    <script type="text/javascript">
    let Points = [];

    const addPoints = (ev) => {
        Points = []; // Reset Points array before adding new points
        let datas = document.getElementById('pts').value;
        let spliteddatas = datas.split('\n');
        let splitedteam = spliteddatas[0].split(',');
        let splitedwwcd = spliteddatas[1].split(',');
        let splitedpos = spliteddatas[2].split(',');
        let splitedkills = spliteddatas[3].split(',');
        let splitedtotal = spliteddatas[4].split(',');

        for (var i = 0; i < splitedteam.length; i++) {
            let point = {
                rank: i + 1,
                name: splitedteam[i],
                wwcd: splitedwwcd[i],
                pos: splitedpos[i],
                kills: splitedkills[i],
                total: splitedtotal[i],
            }
            Points.push(point);
        }

        buildTable(Points);
    }

    document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('ptbtn').addEventListener('click', addPoints)
    });

    function buildTable(data) {
        var table = document.getElementById('myTable');
        table.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var row = `<tr>
                <td class="ranks">${data[i].rank}</td>
                <td class="teams">${data[i].name}</td>
                <td>${data[i].wwcd}</td>
                <td>${data[i].pos}</td>
                <td>${data[i].kills}</td>
                <td>${data[i].total}</td>
            </tr>`;
            table.innerHTML += row;
        }
        document.forms[0].reset();
    }
             </script>
</head>

<body>
    <form action="">
        <div class="formbox">
            <div class="inputsdiv">
                <div class="titlediv">
                    <label for="Subtitle">SubTitle </label>
                    <input type="text" id="Subtitle" value="SubTitle" placeholder="Enter Subtitle Here">
                    <label for="Title">Title</label>
                    <input type="text" id="Title" value="Title" placeholder="Enter Title Here">
                </div>
                <div class="pointsdiv">
                    <label for="pts">Points Here</label>
                    <textarea name="message" id="pts" cols="30" rows="4" placeholder="Enter Points Here"></textarea>
                </div>
            </div>
            <button class="btn btn4" type="button" id="ptbtn">Click Here</button>
            <button class="btn btn4" type="button" onclick="downloadimage()">Click Here To Download</button>
            <input type="file" id="select_image" name="image" onchange="putImage()" />
        </div>
    </form>
    <div class="table_bg" id="downlb">
        <div class="titlebox">
            <img src="" alt="LOGO HERE" id="serverlogo">
            <div class="titless">
                <h2 class="title subtitle" id="UpperTitle">YOUR ORG NAME</h2>
                <h2 class="title" id="BigTitle">TITLE HERE</h2>
            </div>
        </div>
        <div class="restable">
            <div class="leftcontainer">
                <div class="leftheadcontainer">
                    <div class="leftheadbox" id="leftheadhash">#</div>
                    <div class="leftheadbox">TEAMNAMES</div>
                    <div class="leftheadbox" id="leftheadwwcd"><img src="wwcd.svg" alt="WWCD"></div>
                    <div class="leftheadbox">POS</div>
                    <div class="leftheadbox">KILLS</div>
                    <div class="leftheadbox">TOTAL</div>
                </div>
                <div class="leftrankcontainer">
                    <div class="textboxes ranksbox">1</div>
                    <div class="textboxes ranksbox">2</div>
                    <div class="textboxes ranksbox">3</div>
                    <div class="textboxes ranksbox">4</div>
                    <div class="textboxes ranksbox">5</div>
                    <div class="textboxes ranksbox">6</div>
                    <div class="textboxes ranksbox">7</div>
                    <div class="textboxes ranksbox">8</div>
                    <div class="textboxes ranksbox">9</div>
                    <div class="textboxes ranksbox">10</div>
                </div>
                <div class="leftholdcontainer" id="myTable">
                    <!-- Points will be appended here -->
                </div>
            </div>
            <div id="haha"></div>
            <div class="rightcontainer" id="rightcont">
                <div class="rightheadcontainer">
                    <div class="rightheadbox" id="rightheadhash">#</div>
                    <div class="rightheadbox">TEAMNAMES</div>
                    <div class="rightheadbox" id="rightheadwwcd"><img src="wwcd.svg" alt="WWCD"></div>
                    <div class="rightheadbox">POS</div>
                    <div class="rightheadbox">KILLS</div>
                    <div class="rightheadbox">TOTAL</div>
                </div>
                <div class="rightrankcontainer">
                    <div class="textboxes ranksbox">11</div>
                    <div class="textboxes ranksbox">12</div>
                    <div class="textboxes ranksbox">13</div>
                    <div class="textboxes ranksbox">14</div>
                    <div class="textboxes ranksbox">15</div>
                    <div class="textboxes ranksbox">16</div>
                    <div class="textboxes ranksbox">17</div>
                    <div class="textboxes ranksbox">18</div>
                    <div class="textboxes ranksbox">19</div>
                    <div class="textboxes ranksbox">20</div>
                </div>
                <div class="rightholdcontainer">
                    <div class="rightpointboxes">
                        <div class="textboxes teamnamesbox" id="teamname11"></div>
                        <div class="textboxes" id="wwcd11"></div>
                        <div class="textboxes" id="pos11"></div>
                        <div class="textboxes" id="kill11"></div>
                        <div class="textboxes" id="total11"></div>
                    </div>
                    <div class="rightpointboxes">
                        <div class="textboxes teamnamesbox" id="teamname12"></div>
                        <div class="textboxes" id="wwcd12"></div>
                        <div class="textboxes" id="pos12"></div>
                        <div class="textboxes" id="kill12"></div>
                        <div class="textboxes" id="total12"></div>
                    </div>
                    <div class="rightpointboxes">
                        <div class="textboxes teamnamesbox" id="teamname13"></div>
                        <div class="textboxes" id="wwcd13"></div>
                        <div class="textboxes" id="pos13"></div>
                        <div class="textboxes" id="kill13"></div>
                        <div class="textboxes" id="total13"></div>
                    </div>
                    <div class="rightpointboxes">
                        <div class="textboxes teamnamesbox" id="teamname14"></div>
                        <div class="textboxes" id="wwcd14"></div>
                        <div class="textboxes" id="pos14"></div>
                        <div class="textboxes" id="kill14"></div>
                        <div class="textboxes" id="total14"></div>
                    </div>
                    <div class="rightpointboxes">
                        <div class="textboxes teamnamesbox" id="teamname15"></div>
                        <div class="textboxes" id="wwcd15"></div>
                        <div class="textboxes" id="pos15"></div>
                        <div class="textboxes" id="kill15"></div>
                        <div class="textboxes" id="total15"></div>
                    </div>
                    <div class="rightpointboxes">
                        <div class="textboxes teamnamesbox" id="teamname16"></div>
                        <div class="textboxes" id="wwcd16"></div>
                        <div class="textboxes" id="pos16"></div>
                        <div class="textboxes" id="kill16"></div>
                        <div class="textboxes" id="total16"></div>
                    </div>
                    <div class="rightpointboxes">
                        <div class="textboxes teamnamesbox" id="teamname17"></div>
                        <div class="textboxes" id="wwcd17"></div>
                        <div class="textboxes" id="pos17"></div>
                        <div class="textboxes" id="kill17"></div>
                        <div class="textboxes" id="total17"></div>
                    </div>
                    <div class="rightpointboxes">
                        <div class="textboxes teamnamesbox" id="teamname18"></div>
                        <div class="textboxes" id="wwcd18"></div>
                        <div class="textboxes" id="pos18"></div>
                        <div class="textboxes" id="kill18"></div>
                        <div class="textboxes" id="total18"></div>
                    </div>
                    <div class="rightpointboxes">
                        <div class="textboxes teamnamesbox" id="teamname19"></div>
                        <div class="textboxes" id="wwcd19"></div>
                        <div class="textboxes" id="pos19"></div>
                        <div class="textboxes" id="kill19"></div>
                        <div class="textboxes" id="total19"></div>
                    </div>
                    <div class="rightpointboxes">
                        <div class="textboxes teamnamesbox" id="teamname20"></div>
                        <div class="textboxes" id="wwcd20"></div>
                        <div class="textboxes" id="pos20"></div>
                        <div class="textboxes" id="kill20"></div>
                        <div class="textboxes" id="total20"></div>
                    </div>
                </div>
            </div>
            <div class="footer">
                
            </div>
        </div>
    </div>
</body>

</html>
